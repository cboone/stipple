# v0.2.0 Implementation Plan: Line Drawing

Add Bresenham's line algorithm for drawing straight lines between two points.

## Files to Create

### 1. `draw/line.go`

Create the draw package with Bresenham's line algorithm implementation.

```go
package draw

import (
    "math"

    "github.com/cboone/stipple/canvas"
)

// Line draws a line from (startX, startY) to (endX, endY) using Bresenham's algorithm.
func Line(c *canvas.Canvas, startX, startY, endX, endY float64)
```

**Implementation details:**
- Convert `float64` coordinates to `int` using `math.Floor` at function entry
- Use integer Bresenham algorithm (no floating point in inner loop)
- Handle all octants (steep/shallow, positive/negative slopes)
- Set each pixel along the line using `c.Set()`

**Bresenham algorithm pseudocode:**
```
1. Calculate dx = |endX - startX|, dy = |endY - startY|
2. Determine if line is steep (dy > dx); if so, swap x/y roles
3. Ensure we iterate from smaller to larger coordinate
4. Initialize error term: error = dx / 2
5. For each x from start to end:
   - Set pixel at current (x, y)
   - error -= dy
   - If error < 0:
     - y += ystep (1 or -1)
     - error += dx
```

### 2. `draw/line_test.go`

Create tests following the pattern in `canvas/canvas_test.go`.

**Test cases (from PLAN.md):**
- `TestLineHorizontal`: verify pixels along a horizontal line
- `TestLineVertical`: verify pixels along a vertical line
- `TestLineDiagonalPositive`: 45-degree line with positive slope
- `TestLineDiagonalNegative`: 45-degree line with negative slope
- `TestLineSymmetry`: `Line(a, b, c, d)` produces same pixels as `Line(c, d, a, b)`
- `TestLineSinglePoint`: start equals end draws one pixel
- `TestLineShallowSlope`: slope < 1
- `TestLineSteepSlope`: slope > 1

**Test structure:**
```go
package draw

import (
    "flag"
    "os"
    "testing"

    "github.com/cboone/stipple/canvas"
)

var visualFlag = flag.Bool("visual", false, "print visual output")

func TestMain(m *testing.M) {
    flag.Parse()
    os.Exit(m.Run())
}

func printVisual(t *testing.T, name string, c *canvas.Canvas) {
    if *visualFlag {
        t.Logf("\n=== %s ===\n%s", name, c.Frame())
    }
}
```

## File to Update

### 3. `examples/demo/main.go`

Add line demonstrations after the existing v0.1 demos.

**New demos to add:**
- Horizontal line
- Vertical line
- Diagonal line (45 degrees)
- Shallow slope line
- Steep slope line
- Multiple lines forming a pattern (e.g., star or cross)

**Update version string from `v0.1.0` to `v0.2.0`.**

## Implementation Order

1. Create `draw/line.go` with the `Line` function
2. Create `draw/line_test.go` with all test cases
3. Run tests to verify implementation
4. Update `examples/demo/main.go` with line demonstrations
5. Run demo to visually verify

## Verification

```bash
# Run all tests
make test

# Run tests with visual output
make test-visual

# Run demo
make demo
```

## Key Files

| File | Action |
|------|--------|
| `draw/line.go` | Create |
| `draw/line_test.go` | Create |
| `examples/demo/main.go` | Update |

## Dependencies

The `draw` package depends on `canvas` package. Import path:
```go
import "github.com/cboone/stipple/canvas"
```
